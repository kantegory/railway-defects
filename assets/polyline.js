ymaps.ready(init);

let jsonData = {
  "Point": [
    {
      "time": 141005,
      "coordinate": {
        "latitude": "51.875497",
        "longitude": "30.419563"
      },
      "acceleration": "0.9221"
    },
    {
      "time": 189513,
      "coordinate": {
        "latitude": "-51.625603",
        "longitude": "-141.686606"
      },
      "acceleration": "1.151"
    },
    {
      "time": 176346,
      "coordinate": {
        "latitude": "35.492061",
        "longitude": "151.924096"
      },
      "acceleration": "1.1682"
    },
    {
      "time": 130264,
      "coordinate": {
        "latitude": "-47.550566",
        "longitude": "4.54179"
      },
      "acceleration": "8.1651"
    },
    {
      "time": 101815,
      "coordinate": {
        "latitude": "56.243872",
        "longitude": "-157.043757"
      },
      "acceleration": "0.015"
    },
    {
      "time": 162348,
      "coordinate": {
        "latitude": "-41.960004",
        "longitude": "-6.394145"
      },
      "acceleration": "9.0627"
    },
    {
      "time": 143651,
      "coordinate": {
        "latitude": "-51.446483",
        "longitude": "-128.612691"
      },
      "acceleration": "9.6347"
    },
    {
      "time": 102944,
      "coordinate": {
        "latitude": "-1.614486",
        "longitude": "25.45081"
      },
      "acceleration": "5.6245"
    },
    {
      "time": 118630,
      "coordinate": {
        "latitude": "-68.418315",
        "longitude": "-103.940267"
      },
      "acceleration": "0.154"
    },
    {
      "time": 124846,
      "coordinate": {
        "latitude": "82.469533",
        "longitude": "1.315754"
      },
      "acceleration": "4.6531"
    },
    {
      "time": 199881,
      "coordinate": {
        "latitude": "-32.872505",
        "longitude": "86.568467"
      },
      "acceleration": "0.6597"
    },
    {
      "time": 114045,
      "coordinate": {
        "latitude": "-21.716266",
        "longitude": "-156.381212"
      },
      "acceleration": "7.6884"
    },
    {
      "time": 196293,
      "coordinate": {
        "latitude": "29.293294",
        "longitude": "113.633986"
      },
      "acceleration": "8.83"
    },
    {
      "time": 168229,
      "coordinate": {
        "latitude": "-88.776427",
        "longitude": "70.057009"
      },
      "acceleration": "0.0119"
    },
    {
      "time": 185015,
      "coordinate": {
        "latitude": "72.78166",
        "longitude": "-84.255193"
      },
      "acceleration": "7.7786"
    },
    {
      "time": 160958,
      "coordinate": {
        "latitude": "-40.141693",
        "longitude": "123.362359"
      },
      "acceleration": "0.3288"
    },
    {
      "time": 167453,
      "coordinate": {
        "latitude": "0.340063",
        "longitude": "-84.762804"
      },
      "acceleration": "3.1446"
    },
    {
      "time": 167001,
      "coordinate": {
        "latitude": "-0.465999",
        "longitude": "62.498481"
      },
      "acceleration": "4.6917"
    },
    {
      "time": 112078,
      "coordinate": {
        "latitude": "-53.19429",
        "longitude": "-69.7827"
      },
      "acceleration": "2.7115"
    },
    {
      "time": 138569,
      "coordinate": {
        "latitude": "54.911031",
        "longitude": "-77.30847"
      },
      "acceleration": "8.1189"
    },
    {
      "time": 161782,
      "coordinate": {
        "latitude": "48.76183",
        "longitude": "174.762727"
      },
      "acceleration": "5.1595"
    },
    {
      "time": 132077,
      "coordinate": {
        "latitude": "27.089444",
        "longitude": "144.074966"
      },
      "acceleration": "2.5388"
    },
    {
      "time": 198683,
      "coordinate": {
        "latitude": "18.363843",
        "longitude": "75.63309"
      },
      "acceleration": "4.6005"
    },
    {
      "time": 106876,
      "coordinate": {
        "latitude": "19.369516",
        "longitude": "-163.95226"
      },
      "acceleration": "3.863"
    },
    {
      "time": 118645,
      "coordinate": {
        "latitude": "67.40385",
        "longitude": "-133.994642"
      },
      "acceleration": "9.4441"
    },
    {
      "time": 164634,
      "coordinate": {
        "latitude": "59.60579",
        "longitude": "51.123307"
      },
      "acceleration": "6.1159"
    },
    {
      "time": 144117,
      "coordinate": {
        "latitude": "87.50887",
        "longitude": "121.524998"
      },
      "acceleration": "3.0427"
    },
    {
      "time": 147812,
      "coordinate": {
        "latitude": "47.440219",
        "longitude": "63.897261"
      },
      "acceleration": "1.5864"
    },
    {
      "time": 120110,
      "coordinate": {
        "latitude": "84.203907",
        "longitude": "139.777942"
      },
      "acceleration": "3.8489"
    },
    {
      "time": 162181,
      "coordinate": {
        "latitude": "-15.129723",
        "longitude": "146.792273"
      },
      "acceleration": "1.1836"
    },
    {
      "time": 131271,
      "coordinate": {
        "latitude": "-24.809078",
        "longitude": "-64.258574"
      },
      "acceleration": "1.5914"
    },
    {
      "time": 140064,
      "coordinate": {
        "latitude": "70.940912",
        "longitude": "5.24331"
      },
      "acceleration": "7.9314"
    },
    {
      "time": 162043,
      "coordinate": {
        "latitude": "-72.952594",
        "longitude": "-137.903295"
      },
      "acceleration": "8.9766"
    },
    {
      "time": 140083,
      "coordinate": {
        "latitude": "-8.035037",
        "longitude": "8.314095"
      },
      "acceleration": "3.7766"
    },
    {
      "time": 198894,
      "coordinate": {
        "latitude": "19.148397",
        "longitude": "153.24736"
      },
      "acceleration": "7.923"
    },
    {
      "time": 183198,
      "coordinate": {
        "latitude": "63.700809",
        "longitude": "20.092169"
      },
      "acceleration": "9.3934"
    },
    {
      "time": 177986,
      "coordinate": {
        "latitude": "0.573614",
        "longitude": "-110.082644"
      },
      "acceleration": "5.6229"
    },
    {
      "time": 178624,
      "coordinate": {
        "latitude": "81.090129",
        "longitude": "-163.336084"
      },
      "acceleration": "4.4514"
    },
    {
      "time": 190299,
      "coordinate": {
        "latitude": "24.652396",
        "longitude": "128.577875"
      },
      "acceleration": "6.5802"
    },
    {
      "time": 108827,
      "coordinate": {
        "latitude": "53.794993",
        "longitude": "90.382872"
      },
      "acceleration": "0.8199"
    },
    {
      "time": 151027,
      "coordinate": {
        "latitude": "25.76875",
        "longitude": "23.350339"
      },
      "acceleration": "8.9653"
    },
    {
      "time": 163513,
      "coordinate": {
        "latitude": "-54.556276",
        "longitude": "-111.054027"
      },
      "acceleration": "7.7121"
    },
    {
      "time": 116226,
      "coordinate": {
        "latitude": "67.510976",
        "longitude": "17.076654"
      },
      "acceleration": "4.3473"
    },
    {
      "time": 136269,
      "coordinate": {
        "latitude": "26.315523",
        "longitude": "173.645985"
      },
      "acceleration": "1.6049"
    },
    {
      "time": 181801,
      "coordinate": {
        "latitude": "57.616622",
        "longitude": "-101.160392"
      },
      "acceleration": "6.4653"
    },
    {
      "time": 111869,
      "coordinate": {
        "latitude": "67.379427",
        "longitude": "118.268303"
      },
      "acceleration": "0.6975"
    },
    {
      "time": 177791,
      "coordinate": {
        "latitude": "-82.108339",
        "longitude": "165.254297"
      },
      "acceleration": "8.8364"
    },
    {
      "time": 159678,
      "coordinate": {
        "latitude": "82.127433",
        "longitude": "-47.643413"
      },
      "acceleration": "7.6988"
    },
    {
      "time": 188935,
      "coordinate": {
        "latitude": "30.069607",
        "longitude": "55.812761"
      },
      "acceleration": "3.316"
    },
    {
      "time": 164813,
      "coordinate": {
        "latitude": "-8.610919",
        "longitude": "21.135389"
      },
      "acceleration": "7.8778"
    },
    {
      "time": 177364,
      "coordinate": {
        "latitude": "-24.556588",
        "longitude": "-63.97165"
      },
      "acceleration": "7.5598"
    },
    {
      "time": 153380,
      "coordinate": {
        "latitude": "-41.027854",
        "longitude": "-138.268246"
      },
      "acceleration": "9.4952"
    },
    {
      "time": 193166,
      "coordinate": {
        "latitude": "-75.189401",
        "longitude": "159.181837"
      },
      "acceleration": "2.121"
    },
    {
      "time": 158544,
      "coordinate": {
        "latitude": "-75.861966",
        "longitude": "-121.196011"
      },
      "acceleration": "3.7578"
    },
    {
      "time": 177915,
      "coordinate": {
        "latitude": "63.404794",
        "longitude": "-91.824195"
      },
      "acceleration": "7.2211"
    },
    {
      "time": 142357,
      "coordinate": {
        "latitude": "-25.483703",
        "longitude": "25.65336"
      },
      "acceleration": "2.8446"
    },
    {
      "time": 137090,
      "coordinate": {
        "latitude": "53.144207",
        "longitude": "-33.001947"
      },
      "acceleration": "9.1252"
    },
    {
      "time": 129786,
      "coordinate": {
        "latitude": "-34.42054",
        "longitude": "5.064375"
      },
      "acceleration": "0.0063"
    },
    {
      "time": 122309,
      "coordinate": {
        "latitude": "70.210257",
        "longitude": "-165.85011"
      },
      "acceleration": "8.6919"
    },
    {
      "time": 184708,
      "coordinate": {
        "latitude": "25.729161",
        "longitude": "-62.718351"
      },
      "acceleration": "4.5357"
    },
    {
      "time": 176471,
      "coordinate": {
        "latitude": "-31.760832",
        "longitude": "-124.312776"
      },
      "acceleration": "0.84"
    },
    {
      "time": 175470,
      "coordinate": {
        "latitude": "-87.688749",
        "longitude": "135.513112"
      },
      "acceleration": "1.8687"
    },
    {
      "time": 184457,
      "coordinate": {
        "latitude": "39.065621",
        "longitude": "32.110535"
      },
      "acceleration": "4.4416"
    },
    {
      "time": 171997,
      "coordinate": {
        "latitude": "33.767368",
        "longitude": "66.838747"
      },
      "acceleration": "8.1469"
    },
    {
      "time": 178836,
      "coordinate": {
        "latitude": "-60.92291",
        "longitude": "135.890258"
      },
      "acceleration": "7.5465"
    },
    {
      "time": 132677,
      "coordinate": {
        "latitude": "82.002595",
        "longitude": "55.516792"
      },
      "acceleration": "2.4424"
    },
    {
      "time": 153872,
      "coordinate": {
        "latitude": "-59.554909",
        "longitude": "69.188163"
      },
      "acceleration": "4.8303"
    },
    {
      "time": 162978,
      "coordinate": {
        "latitude": "16.723734",
        "longitude": "-89.978254"
      },
      "acceleration": "0.8668"
    },
    {
      "time": 149881,
      "coordinate": {
        "latitude": "59.330069",
        "longitude": "111.597554"
      },
      "acceleration": "6.8172"
    },
    {
      "time": 197059,
      "coordinate": {
        "latitude": "-70.140296",
        "longitude": "68.507161"
      },
      "acceleration": "7.7611"
    },
    {
      "time": 108922,
      "coordinate": {
        "latitude": "-8.941047",
        "longitude": "143.562787"
      },
      "acceleration": "3.9148"
    },
    {
      "time": 141968,
      "coordinate": {
        "latitude": "-34.74544",
        "longitude": "105.979683"
      },
      "acceleration": "1.4906"
    },
    {
      "time": 123335,
      "coordinate": {
        "latitude": "-8.710955",
        "longitude": "20.347817"
      },
      "acceleration": "2.6821"
    },
    {
      "time": 141067,
      "coordinate": {
        "latitude": "-33.299715",
        "longitude": "112.759502"
      },
      "acceleration": "8.3978"
    },
    {
      "time": 157337,
      "coordinate": {
        "latitude": "1.439719",
        "longitude": "152.90514"
      },
      "acceleration": "1.482"
    },
    {
      "time": 108948,
      "coordinate": {
        "latitude": "-78.584539",
        "longitude": "71.836822"
      },
      "acceleration": "0.0112"
    },
    {
      "time": 145170,
      "coordinate": {
        "latitude": "-3.686085",
        "longitude": "-134.430166"
      },
      "acceleration": "2.7254"
    },
    {
      "time": 147277,
      "coordinate": {
        "latitude": "-68.534002",
        "longitude": "51.574417"
      },
      "acceleration": "2.6571"
    },
    {
      "time": 181588,
      "coordinate": {
        "latitude": "47.463151",
        "longitude": "167.38349"
      },
      "acceleration": "1.7271"
    },
    {
      "time": 103383,
      "coordinate": {
        "latitude": "-67.051154",
        "longitude": "-106.624004"
      },
      "acceleration": "2.5144"
    },
    {
      "time": 108423,
      "coordinate": {
        "latitude": "21.441069",
        "longitude": "-147.812697"
      },
      "acceleration": "9.9022"
    },
    {
      "time": 112504,
      "coordinate": {
        "latitude": "65.209549",
        "longitude": "-138.50883"
      },
      "acceleration": "2.5138"
    },
    {
      "time": 178834,
      "coordinate": {
        "latitude": "37.567839",
        "longitude": "30.965943"
      },
      "acceleration": "3.3682"
    },
    {
      "time": 139731,
      "coordinate": {
        "latitude": "40.658492",
        "longitude": "94.597639"
      },
      "acceleration": "1.797"
    },
    {
      "time": 180717,
      "coordinate": {
        "latitude": "18.343026",
        "longitude": "-43.948556"
      },
      "acceleration": "9.7018"
    },
    {
      "time": 132335,
      "coordinate": {
        "latitude": "0.545526",
        "longitude": "-173.142423"
      },
      "acceleration": "2.1432"
    },
    {
      "time": 109314,
      "coordinate": {
        "latitude": "45.853181",
        "longitude": "67.569865"
      },
      "acceleration": "2.7226"
    },
    {
      "time": 129816,
      "coordinate": {
        "latitude": "72.579314",
        "longitude": "78.183694"
      },
      "acceleration": "3.7325"
    },
    {
      "time": 185108,
      "coordinate": {
        "latitude": "-23.622867",
        "longitude": "-169.626052"
      },
      "acceleration": "1.183"
    },
    {
      "time": 173768,
      "coordinate": {
        "latitude": "53.424439",
        "longitude": "139.656393"
      },
      "acceleration": "7.0566"
    },
    {
      "time": 174544,
      "coordinate": {
        "latitude": "73.966519",
        "longitude": "-112.214143"
      },
      "acceleration": "4.7791"
    },
    {
      "time": 170135,
      "coordinate": {
        "latitude": "51.644643",
        "longitude": "160.44109"
      },
      "acceleration": "8.1944"
    },
    {
      "time": 189610,
      "coordinate": {
        "latitude": "29.092168",
        "longitude": "-83.134265"
      },
      "acceleration": "2.8816"
    },
    {
      "time": 198836,
      "coordinate": {
        "latitude": "67.958139",
        "longitude": "-142.006284"
      },
      "acceleration": "5.2055"
    },
    {
      "time": 184453,
      "coordinate": {
        "latitude": "53.37374",
        "longitude": "-66.910584"
      },
      "acceleration": "5.2207"
    },
    {
      "time": 182986,
      "coordinate": {
        "latitude": "26.427491",
        "longitude": "33.372143"
      },
      "acceleration": "1.3309"
    },
    {
      "time": 137544,
      "coordinate": {
        "latitude": "-33.886683",
        "longitude": "-121.822752"
      },
      "acceleration": "0.8546"
    },
    {
      "time": 113342,
      "coordinate": {
        "latitude": "-5.359088",
        "longitude": "-9.449061"
      },
      "acceleration": "0.699"
    },
    {
      "time": 195934,
      "coordinate": {
        "latitude": "-37.281278",
        "longitude": "16.240337"
      },
      "acceleration": "1.2995"
    },
    {
      "time": 135149,
      "coordinate": {
        "latitude": "-5.018773",
        "longitude": "90.052458"
      },
      "acceleration": "8.877"
    }
  ]
};


function setDot(map, coord) {
  console.log(coord);
  myMap = map;
  myMap.geoObjects
    .add(new ymaps.Placemark(coord, {
    }, {
      preset: 'islands#redCircleDotIconWithCaption',
      iconCaptionMaxWidth: '50'
    }));
}

function init() {
  // Создаем карту.
  var myMap = new ymaps.Map("map", {
    center: [(jsonData.Point[0].coordinate.latitude),(jsonData.Point[0].coordinate.longitude)],
    zoom: 10
  }, {
    searchControlProvider: 'yandex#search'
  });
let routes = [];
for(var i = 0; i < jsonData.Point.length; i++) {
routes[i] = [(jsonData.Point[i].coordinate.latitude),(jsonData.Point[i].coordinate.longitude)];
setDot(myMap, routes[i])
}
console.log(routes);
	
  // Не создаем ломаную, используя класс GeoObject.

  /* Создаем ломаную с помощью вспомогательного класса Polyline.
  var myPolyline = new ymaps.Polyline(
    routes, {
    // Описываем свойства геообъекта.
    // Содержимое балуна.
    balloonContent: "Ломаная линия"
  }, {
    // Задаем опции геообъекта.
    // Отключаем кнопку закрытия балуна.
    balloonCloseButton: false,
    // Цвет линии.
    strokeColor: "#00ab66",
    // Ширина линии.
    strokeWidth: 7,
    // Коэффициент прозрачности.
    strokeOpacity: 0.8
  });
  //описываем вектор от точки до маршрута
   var myPoint = new ymaps.Placemark([55.45, 37.35]);
  setDot(myMap, [55.50, 37.40])
   var normalVec = new ymaps.Polyline([
      myPolyline.geometry.getClosest(myPoint.geometry.getCoordinates())
      .position,
      myPoint.geometry.getCoordinates()
  ]); */
  // Добавляем линии на карту.
  //myMap.geoObjects
   // .add(myPolyline)
    /* add(myPoint) */
    /* .add(normalVec) */

  

}

